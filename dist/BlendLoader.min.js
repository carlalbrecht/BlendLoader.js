/*! BlendLoader 20-03-2016 */
!function(){"use strict";THREE.BlendLoader=function(a,b){this.manager=void 0!==a?a:THREE.DefaultLoadingManager,this.verbose=void 0!==b?b:!1,this.data=0,this.pointerSize=64,this.endianness=0,this.version="",this.compressed=!1,this.valid=!1},THREE.BlendLoader.prototype=new THREE.Loader,THREE.BlendLoader.prototype.constructor=THREE.BlendLoader,THREE.BlendLoader.prototype.load=function(a,b,c,d){var e=this,f=new THREE.XHRLoader(e.manager);f.setResponseType("arraybuffer"),f.setPath(this.path),f.load(a,function(a){var c=e.parse(a);"function"==typeof b&&b(c)},c,d)},THREE.BlendLoader.prototype.parse=function(a){function b(a){return 66==a[0]&&76==a[1]&&69==a[2]&&78==a[3]&&68==a[4]&&69==a[5]&&82==a[6]}var c=new Uint8Array(a);if(this.verbose&&console.log("Checking to see if the .blend is gzipped"),self.compressed=!b(c),self.compressed){this.verbose&&console.log(".blend is either invalid or compressed, attempting decompression");try{this.verbose&&console.time(".blend decompression time");var d=new Zlib.Gunzip(c);this.data=d.decompress()}catch(e){return console.error("Supplied URL is either malformed or is not a .blend file"),this.verbose&&console.timeEnd(".blend decompression time"),console.error(e),!1}if(this.valid=b(this.data),!this.valid)return console.error("Supplied URL was gzipped, but is not a .blend file"),this.verbose&&console.timeEnd(".blend decompression time"),!1;this.verbose&&console.log(".blend file successfully decompressed and validated"),this.verbose&&console.timeEnd(".blend decompression time")}else this.data=c,this.valid=!0,this.verbose&&console.log(".blend is not compressed, continuing");95==this.data[7]?(this.pointerSize=32,this.verbose&&console.log("Using 32-bit pointers")):(this.pointerSize=64,this.verbose&&console.log("Using 64-bit pointers")),86==this.data[8]?(this.endianness=1,this.verbose&&console.log("Values are big-endian")):(this.endianness=0,this.verbose&&console.log("Values are little-endian")),this.version=String.fromCharCode(this.data[9])+"."+String.fromCharCode(this.data[10])+"."+String.fromCharCode(this.data[11]),this.verbose&&console.log("This .blend file was created in Blender "+this.version)},THREE.BlendLoader.prototype.setPath=function(a){this.path=a}}();